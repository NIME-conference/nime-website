# NIME website

[![Build Jekyll site and deploy via rsync](https://github.com/NIME-conference/nime-website/actions/workflows/build-github-pages.yml/badge.svg)](https://github.com/NIME-conference/nime-website/actions/workflows/build-github-pages.yml)

This is the repository for the NIME conference permanent website and proceedings archive. It's deliberately a small site that links to the PDF proceedings and media files from previous NIMEs, and archival copies of the website from  previous editions of NIME.

To hack on this you'll need to clone it, and install [jekyll](https://jekyllrb.com) following these instructions.

From memory:

1. go into the nime-website repo.
2. `bundle install`
3. `bundle exec jekyll serve`

## Bibliography

The NIME archives bibtex files are stored in a different repository and automatically converted to YAML format. To copy them over here, run the [`get_publications.sh`](https://github.com/NIME-conference/nime-website/blob/master/get_publications.sh) script.

- In this repository, the YAML proceedings metadata are stored in `_data`
- The proceedings archive are generated by liquid script iterating over the archives YAML files, this process is defined in `archives.md`.
- Individual publication item pages are generated using the [`jekyll-datapage-generator` plugin](https://github.com/avillafiorita/jekyll-datapage_gen) which can generate one HTML page per YAML record, this plugin is configured under the `pagegen` key in `_config.yaml`.
- The template for individual publication items is stored in `_layouts/paper.html`.

## Hosting

- The website is hosted on a standard "shared hosting" server.
- A GitHub action builds the jekyll site and deploys to our hosting server via rsync.
- The website is published on every push to the `master` branch.
- Proceedings are too big to be stored in GitHub so are manually deployed to the hosting server (`/proceedings/` folder) by the web officer.

Contact the NIME Web Officer for further details.

## How to do certain tasks

### Change the text on a regular page (e.g., the location of the next NIME)

1. update the relevant page's markdown file (e.g., `index.md`, `committee.md`) within Github and commit the updates.
2. the website will automatically deploy and update on the webserver.

### Add a new year of NIME proceedings

1. add a new yearly bibtex file over on the [NIME-bibliography repository](https://github.com/NIME-conference/NIME-bibliography) (e.g., `nime20XX.bib`)
2. make sure the github actions complete correctly on the [NIME-bibliography repository](https://github.com/NIME-conference/NIME-bibliography), you can check the output YAML on the [NIME-bibliography repo website](http://nime-conference.github.io/NIME-bibliography/).
3. run `get_publications.sh` in this repository.
4. check that the website still builds and displays correctly on your local computer.
5. commit the updated YAML bibliography files and push the website.
6. the website will automatically deploy and update on the webserver.
